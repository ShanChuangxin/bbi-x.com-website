{"ast":null,"code":"import _classCallCheck from\"/Users/shanchuangxin/Desktop/code/restructure/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/shanchuangxin/Desktop/code/restructure/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/shanchuangxin/Desktop/code/restructure/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/shanchuangxin/Desktop/code/restructure/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";// 引入库\nimport React,{Component}from\"react\";import{Route,Switch,withRouter}from\"react-router-dom\";// 导入特效、动画相关的库\nimport{CSSTransition,TransitionGroup}from\"react-transition-group\";// 引入样式文件\nimport\"./Pages.css\";// 引入普通组件\nimport Footer from\"../components/Footer/Footer\";// 引入路由组件\nimport HomePage from\"./HomePage/HomePage\";import ProjectPage from\"./ProjectPage/ProjectPage\";import TeamPage from\"./TeamPage/TeamPage\";import WorkPage from\"./WorkPage/WorkPage\";import ServicesPage from\"./ServicesPage/ServicesPage\";import ContactPage from\"./ContactPage/ContactPage\";import CareersPage from\"./CareersPage/CareersPage\";import DigitalSolutionsPage from\"./DigitalSolutionsPage/DigitalSolutionsPage\";var Pages=/*#__PURE__*/function(_Component){_inherits(Pages,_Component);var _super=_createSuper(Pages);function Pages(){var _this;_classCallCheck(this,Pages);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.prepAnimation=function(){// Get ready for the CSS animation\nvar wrapper=document.querySelector('.wrapper:last-of-type');wrapper.style.height='100vh';var offset=document.documentElement.scrollTop;var page=document.querySelector('.wrapper:last-of-type .page');page.style.top='-'+offset+'px';// Set scroll top top\nwindow.scrollTo(0,0);};return _this;}_createClass(Pages,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState,snapshot){if(this.props.location.pathname!==prevProps.location.pathname){this.prepAnimation();if('scrollRestoration'in window.history){window.history.scrollRestoration='manual';}}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(TransitionGroup,null,/*#__PURE__*/React.createElement(CSSTransition,{key:this.props.location.key,timeout:3000,className:\"wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"page\"},/*#__PURE__*/React.createElement(Switch,{location:this.props.location},/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\"},/*#__PURE__*/React.createElement(HomePage,null)),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/work\"},/*#__PURE__*/React.createElement(WorkPage,null)),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/project/:name\"},/*#__PURE__*/React.createElement(ProjectPage,null)),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/digital-solutions\"},/*#__PURE__*/React.createElement(DigitalSolutionsPage,null)),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/services\"},/*#__PURE__*/React.createElement(ServicesPage,null)),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/team\"},/*#__PURE__*/React.createElement(TeamPage,null)),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/careers\"},/*#__PURE__*/React.createElement(CareersPage,null)),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/contact\"},/*#__PURE__*/React.createElement(ContactPage,null))),/*#__PURE__*/React.createElement(Footer,null)))));}}]);return Pages;}(Component);export default withRouter(Pages);","map":{"version":3,"sources":["/Users/shanchuangxin/Desktop/code/restructure/src/pages/Pages.js"],"names":["React","Component","Route","Switch","withRouter","CSSTransition","TransitionGroup","Footer","HomePage","ProjectPage","TeamPage","WorkPage","ServicesPage","ContactPage","CareersPage","DigitalSolutionsPage","Pages","prepAnimation","wrapper","document","querySelector","style","height","offset","documentElement","scrollTop","page","top","window","scrollTo","prevProps","prevState","snapshot","props","location","pathname","history","scrollRestoration","key"],"mappings":"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","sourcesContent":["// 引入库\nimport React, {Component} from \"react\"\nimport {Route, Switch, withRouter} from \"react-router-dom\";\n// 导入特效、动画相关的库\nimport {CSSTransition, TransitionGroup} from \"react-transition-group\";\n\n// 引入样式文件\nimport \"./Pages.css\"\n\n// 引入普通组件\nimport Footer from \"../components/Footer/Footer\";\n\n// 引入路由组件\nimport HomePage from \"./HomePage/HomePage\";\nimport ProjectPage from \"./ProjectPage/ProjectPage\";\nimport TeamPage from \"./TeamPage/TeamPage\";\nimport WorkPage from \"./WorkPage/WorkPage\";\nimport ServicesPage from \"./ServicesPage/ServicesPage\";\nimport ContactPage from \"./ContactPage/ContactPage\";\nimport CareersPage from \"./CareersPage/CareersPage\";\nimport DigitalSolutionsPage from \"./DigitalSolutionsPage/DigitalSolutionsPage\";\n\nclass Pages extends Component {\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.props.location.pathname !== prevProps.location.pathname) {\n            this.prepAnimation()\n            if ('scrollRestoration' in window.history) {\n                window.history.scrollRestoration = 'manual';\n            }\n        }\n    }\n\n    prepAnimation = () => { // Get ready for the CSS animation\n\n        let wrapper = document.querySelector('.wrapper:last-of-type');\n        wrapper.style.height = '100vh'\n\n        let offset = document.documentElement.scrollTop\n        let page = document.querySelector('.wrapper:last-of-type .page')\n        page.style.top = '-' + offset + 'px'\n\n        // Set scroll top top\n        window.scrollTo(0, 0)\n    }\n\n\n    render() {\n\n        return (\n\n            <TransitionGroup>\n                <CSSTransition key={this.props.location.key} timeout={3000} className=\"wrapper\">\n\n                    <div className={\"wrapper\"}>\n                        <div className={\"page\"}>\n\n                            <Switch location={this.props.location}>\n                                {/* 匹配根路径 */}\n\n                                <Route exact path={\"/\"}>\n                                    {/* 主页面 */}\n                                    <HomePage/>\n                                </Route>\n\n                                <Route exact path={\"/work\"}>\n                                    {/* 项目列表页面 */}\n                                    <WorkPage />\n                                </Route>\n\n                                <Route exact path={\"/project/:name\"}>\n                                    {/* 单个项目详情页面 */}\n                                    <ProjectPage/>\n                                </Route>\n\n                                <Route exact path={\"/digital-solutions\"}>\n                                    {/* 数字解决方案（技术领域）页面 */}\n                                    <DigitalSolutionsPage />\n                                </Route>\n\n                                <Route exact path={\"/services\"}>\n                                    {/* 可提供的服务内容页面 */}\n                                    <ServicesPage />\n                                </Route>\n\n                                <Route exact path={\"/team\"}>\n                                    {/* 公司成员页面 */}\n                                    <TeamPage />\n                                </Route>\n\n                                <Route exact path={\"/careers\"}>\n                                    {/* 公司生涯页面 */}\n                                    <CareersPage />\n                                </Route>\n\n                                <Route exact path={\"/contact\"}>\n                                    {/* 联系我们页面 */}\n                                    <ContactPage />\n                                </Route>\n\n\n                            </Switch>\n\n                            {/* 页面底部内容是固定的 */}\n                            <Footer />\n\n                        </div>\n                    </div>\n\n                </CSSTransition>\n            </TransitionGroup>\n\n        )\n\n    }\n\n}\n\nexport default withRouter(Pages)"]},"metadata":{},"sourceType":"module"}