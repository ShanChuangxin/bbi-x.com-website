{"ast":null,"code":"import _classCallCheck from\"/Users/shanchuangxin/Desktop/code/restructure/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/shanchuangxin/Desktop/code/restructure/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/shanchuangxin/Desktop/code/restructure/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/shanchuangxin/Desktop/code/restructure/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";var DigitalSolutionSection=/*#__PURE__*/function(_Component){_inherits(DigitalSolutionSection,_Component);var _super=_createSuper(DigitalSolutionSection);function DigitalSolutionSection(props){var _this;_classCallCheck(this,DigitalSolutionSection);_this=_super.call(this,props);_this.handleTouchStart=function(e){_this.clientX=e.touches[0].clientX;};_this.handleTouchEnd=function(e){var activeMedia=_this.state.activeMedia;if(e.changedTouches[0].clientX>_this.clientX+20){activeMedia=_this.state.activeMedia-1;}else if(e.changedTouches[0].clientX<_this.clientX-20){activeMedia++;}if(activeMedia>=0&&activeMedia<_this.props.project.media.length){_this.setState({activeMedia:activeMedia});}};_this.state={activeMedia:0};_this.clientX=null;return _this;}_createClass(DigitalSolutionSection,[{key:\"render\",value:function render(){var _this2=this;var project=this.props.project;var media=this.props.project.media.map(function(src){var fileElement;if(src.indexOf('mp4')>-1){fileElement=/*#__PURE__*/React.createElement(\"video\",{autoPlay:true,loop:true,playsInline:true,muted:true},/*#__PURE__*/React.createElement(\"source\",{src:src,type:\"video/mp4\"}));}else{fileElement=/*#__PURE__*/React.createElement(\"img\",{src:src,alt:project.title+' screenshot'});}return/*#__PURE__*/React.createElement(\"div\",{className:\"d--snapshot\",key:src},fileElement);});// 轮播图的指示器\nvar indicators=this.props.project.media.map(function(src,no){return/*#__PURE__*/React.createElement(\"div\",{className:\"d--indicator\"+(no===_this2.state.activeMedia?' active':''),key:no});});var carouselX=0-this.state.activeMedia*100+'vw';return/*#__PURE__*/React.createElement(\"div\",{className:\"d--project\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d--title\"},project.title),/*#__PURE__*/React.createElement(\"div\",{className:\"d--client\"},project.client),/*#__PURE__*/React.createElement(\"div\",{className:\"d--carousel\",onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},/*#__PURE__*/React.createElement(\"div\",{className:\"d--carousel-inner\",style:{left:carouselX}},media)),/*#__PURE__*/React.createElement(\"div\",{className:\"d--indicators\"},indicators),/*#__PURE__*/React.createElement(\"div\",{className:\"d--body\"},project.body));}}]);return DigitalSolutionSection;}(Component);export default DigitalSolutionSection;","map":{"version":3,"sources":["/Users/shanchuangxin/Desktop/code/restructure/src/components/DigitalSolutionSection/DigitalSolutionSection.js"],"names":["React","Component","DigitalSolutionSection","props","handleTouchStart","e","clientX","touches","handleTouchEnd","activeMedia","state","changedTouches","project","media","length","setState","map","src","fileElement","indexOf","title","indicators","no","carouselX","client","left","body"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\"\n\nclass DigitalSolutionSection extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            activeMedia: 0\n        }\n\n        this.clientX = null\n    }\n\n    handleTouchStart = (e) => {\n        this.clientX = e.touches[0].clientX\n    }\n\n    handleTouchEnd = (e) => {\n        let activeMedia = this.state.activeMedia\n        if (e.changedTouches[0].clientX > this.clientX + 20) {\n            activeMedia = this.state.activeMedia - 1\n        } else if (e.changedTouches[0].clientX < this.clientX - 20) {\n            activeMedia++\n        }\n\n        if (activeMedia >= 0 && activeMedia < this.props.project.media.length) {\n            this.setState({\n                activeMedia: activeMedia\n            })\n        }\n    }\n\n    render() {\n\n        let project = this.props.project\n\n        let media = this.props.project.media.map(src => {\n            let fileElement;\n            if (src.indexOf('mp4') > -1) {\n                fileElement = <video autoPlay={true} loop playsInline={true} muted={true}>\n                    <source src={src} type={\"video/mp4\"}/>\n                </video>\n            } else {\n                fileElement = <img src={src} alt={project.title + ' screenshot'} />\n            }\n            return (\n                <div className={\"d--snapshot\"} key={src}>\n                    {fileElement}\n                </div>\n            )\n        })\n\n        // 轮播图的指示器\n        let indicators = this.props.project.media.map((src, no) => {\n            return (\n                <div className={\"d--indicator\" + (no === this.state.activeMedia ? ' active' : '')} key={no}>{}</div>\n            )\n        })\n\n        let carouselX = 0 - (this.state.activeMedia * 100) + 'vw'\n\n        return (\n            <div className={\"d--project\"}>\n                {/* 该解决方案的名称 */} \n                <div className={\"d--title\"}>{project.title}</div>\n                {/* 该解决方案的客户 */}\n                <div className={\"d--client\"}>{project.client}</div>\n\n                {/* 图片或者视频的轮播 */}\n                <div className={\"d--carousel\"}\n                    onTouchStart={this.handleTouchStart}\n                    onTouchEnd={this.handleTouchEnd}>\n                    <div className={\"d--carousel-inner\"} style={{left: carouselX}}>\n                        {/* 该解决方案的静态资源 */}\n                        {media}\n                    </div>\n                </div>\n\n                {/* 轮播图指示器，屏幕足够宽（比如电脑上全屏）则没有，屏幕窄则有，比如手机上 */}\n                <div className={\"d--indicators\"}>\n                    {indicators}\n                </div>\n\n                {/* 该解决方案的详情介绍 */}\n                <div className={\"d--body\"}>\n                    {project.body}\n                </div>\n\n            </div>\n        )\n\n    }\n\n}\n\nexport default DigitalSolutionSection"]},"metadata":{},"sourceType":"module"}